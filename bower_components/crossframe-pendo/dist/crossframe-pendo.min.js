!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?exports.crossframePendo=b():a.crossframePendo=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){function d(a){var b=!0,c=!1,d=void 0;try{for(var g,h=a[Symbol.iterator]();!(b=(g=h.next()).done);b=!0){var i=g.value;f(i),e(i)}}catch(a){c=!0,d=a}finally{try{!b&&h.return&&h.return()}finally{if(c)throw d}}}function e(a){a.after("launch",function(){a.isShown()||i.tryAdjacentFrames("launchGuide",[a.id]).catch(function(){j.errorCallback({errorType:"GUIDE.LAUNCH",guideId:a.id})})});var b=function(b){var c=a.getPositionOfStep(b),d=a.steps[c],e=function(){d&&!d.isShown()&&i.tryAdjacentFrames("showStep",[a.id,d.id]).catch(function(){j.errorCallback({errorType:"STEP.ADVANCE",guideId:a.id,stepId:b.id})}),j.stepAdvanceCallback(b)};"tooltip"===b.type?b.after("advance",function(){e()}):b.after("hide",function(){"active"===b.seenState&&setTimeout(function(){e()},0)})},c=!0,d=!1,e=void 0;try{for(var f,g=a.steps[Symbol.iterator]();!(c=(f=g.next()).done);c=!0){var h=f.value;b(h)}}catch(a){d=!0,e=a}finally{try{!c&&g.return&&g.return()}finally{if(d)throw e}}}function f(a){if(a.isInProgress()&&!a.isShown()){var b=!0,c=!1,d=void 0;try{for(var e,f=a.steps[Symbol.iterator]();!(b=(e=f.next()).done);b=!0){var g=e.value;g.seenState&&"advanced"!==!g.seenState||g.show()}}catch(a){c=!0,d=a}finally{try{!b&&f.return&&f.return()}finally{if(c)throw d}}}}var g=c(1),h=c(2).Promise,i=c(7),j={errorCallback:function(){},stepAdvanceCallback:function(){}},k=function(){var a=!1;return function(b){if(a)return h.resolve();for(var c in b)j[c]=b[c];return a=!0,g.getGuides().then(function(a){d(a),g.registerEventHandler("guidesLoaded",function(a){d(a.guides)})})}}();a.exports={findGuideById:g.findGuideById,findGuideByName:g.findGuideByName,getGuides:g.getGuides,initialize:k}},function(a,b,c){function d(a){return f().then(function(){return window.pendo.findGuideById(a)})}function e(a){return f().then(function(){return window.pendo.findGuideByName(a)})}function f(){return j().then(function(a){return a.guides&&a.guides.length?a.guides:n()})}function g(a){return d(a).then(function(a){return a.launch(),a.isShown()?k.resolve():k.reject(new Error("Unable to launch guide"))})}function h(a,b){return j().then(function(c){c.events[a](function(){b(c)})})}function i(a,b){return d(a).then(function(a){var c=a.findStepById(b);return c.show(),c.isShown()?k.resolve():k.reject(new Error("Unable to show step"))})}function j(){var a=arguments.length<=0||void 0===arguments[0]?0:arguments[0];return new k(function(b,c){window.pendo&&window.pendo.initialize?b(window.pendo):a>=m?c(new Error("Timed out waiting for Pendo")):window.setTimeout(function(){b(j(a+l))},l)})}var k=c(2).Promise,l=250,m=1e4,n=function(){var a=!1,b=[];return function(){return a||(h("guidesLoaded",function(a){var c=!0,d=!1,e=void 0;try{for(var f,g=b[Symbol.iterator]();!(c=(f=g.next()).done);c=!0){var h=f.value;h.resolve(a.guides)}}catch(a){d=!0,e=a}finally{try{!c&&g.return&&g.return()}finally{if(d)throw e}}b=[]}),a=!0),new k(function(a){b.push({resolve:a})})}}();a.exports={findGuideById:d,findGuideByName:e,getGuides:f,launchGuide:g,registerEventHandler:h,showStep:i}},function(a,b,c){var d;(function(a,e,f){(function(){"use strict";function g(a){return"function"==typeof a||"object"==typeof a&&null!==a}function h(a){return"function"==typeof a}function i(a){Y=a}function j(a){aa=a}function k(){return function(){a.nextTick(p)}}function l(){return function(){X(p)}}function m(){var a=0,b=new da(p),c=document.createTextNode("");return b.observe(c,{characterData:!0}),function(){c.data=a=++a%2}}function n(){var a=new MessageChannel;return a.port1.onmessage=p,function(){a.port2.postMessage(0)}}function o(){return function(){setTimeout(p,1)}}function p(){for(var a=0;a<_;a+=2){var b=ga[a],c=ga[a+1];b(c),ga[a]=void 0,ga[a+1]=void 0}_=0}function q(){try{var a=c(5);return X=a.runOnLoop||a.runOnContext,l()}catch(a){return o()}}function r(a,b){var c=this,d=new this.constructor(t);void 0===d[ja]&&M(d);var e=c._state;if(e){var f=arguments[e-1];aa(function(){J(e,d,f,c._result)})}else F(c,d,a,b);return d}function s(a){var b=this;if(a&&"object"==typeof a&&a.constructor===b)return a;var c=new b(t);return B(c,a),c}function t(){}function u(){return new TypeError("You cannot resolve a promise with itself")}function v(){return new TypeError("A promises callback cannot return that same promise.")}function w(a){try{return a.then}catch(a){return na.error=a,na}}function x(a,b,c,d){try{a.call(b,c,d)}catch(a){return a}}function y(a,b,c){aa(function(a){var d=!1,e=x(c,b,function(c){d||(d=!0,b!==c?B(a,c):D(a,c))},function(b){d||(d=!0,E(a,b))},"Settle: "+(a._label||" unknown promise"));!d&&e&&(d=!0,E(a,e))},a)}function z(a,b){b._state===la?D(a,b._result):b._state===ma?E(a,b._result):F(b,void 0,function(b){B(a,b)},function(b){E(a,b)})}function A(a,b,c){b.constructor===a.constructor&&c===ha&&constructor.resolve===ia?z(a,b):c===na?E(a,na.error):void 0===c?D(a,b):h(c)?y(a,b,c):D(a,b)}function B(a,b){a===b?E(a,u()):g(b)?A(a,b,w(b)):D(a,b)}function C(a){a._onerror&&a._onerror(a._result),G(a)}function D(a,b){a._state===ka&&(a._result=b,a._state=la,0!==a._subscribers.length&&aa(G,a))}function E(a,b){a._state===ka&&(a._state=ma,a._result=b,aa(C,a))}function F(a,b,c,d){var e=a._subscribers,f=e.length;a._onerror=null,e[f]=b,e[f+la]=c,e[f+ma]=d,0===f&&a._state&&aa(G,a)}function G(a){var b=a._subscribers,c=a._state;if(0!==b.length){for(var d,e,f=a._result,g=0;g<b.length;g+=3)d=b[g],e=b[g+c],d?J(c,d,e,f):e(f);a._subscribers.length=0}}function H(){this.error=null}function I(a,b){try{return a(b)}catch(a){return oa.error=a,oa}}function J(a,b,c,d){var e,f,g,i,j=h(c);if(j){if(e=I(c,d),e===oa?(i=!0,f=e.error,e=null):g=!0,b===e)return void E(b,v())}else e=d,g=!0;b._state!==ka||(j&&g?B(b,e):i?E(b,f):a===la?D(b,e):a===ma&&E(b,e))}function K(a,b){try{b(function(b){B(a,b)},function(b){E(a,b)})}catch(b){E(a,b)}}function L(){return pa++}function M(a){a[ja]=pa++,a._state=void 0,a._result=void 0,a._subscribers=[]}function N(a){return new ua(this,a).promise}function O(a){var b=this;return new b($(a)?function(c,d){for(var e=a.length,f=0;f<e;f++)b.resolve(a[f]).then(c,d)}:function(a,b){b(new TypeError("You must pass an array to race."))})}function P(a){var b=this,c=new b(t);return E(c,a),c}function Q(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function R(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function S(a){this[ja]=L(),this._result=this._state=void 0,this._subscribers=[],t!==a&&("function"!=typeof a&&Q(),this instanceof S?K(this,a):R())}function T(a,b){this._instanceConstructor=a,this.promise=new a(t),this.promise[ja]||M(this.promise),$(b)?(this._input=b,this.length=b.length,this._remaining=b.length,this._result=new Array(this.length),0===this.length?D(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&D(this.promise,this._result))):E(this.promise,U())}function U(){return new Error("Array Methods must be provided an Array")}function V(){var a;if("undefined"!=typeof e)a=e;else if("undefined"!=typeof self)a=self;else try{a=Function("return this")()}catch(a){throw new Error("polyfill failed because global object is unavailable in this environment")}var b=a.Promise;b&&"[object Promise]"===Object.prototype.toString.call(b.resolve())&&!b.cast||(a.Promise=ta)}var W;W=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};var X,Y,Z,$=W,_=0,aa=function(a,b){ga[_]=a,ga[_+1]=b,_+=2,2===_&&(Y?Y(p):Z())},ba="undefined"!=typeof window?window:void 0,ca=ba||{},da=ca.MutationObserver||ca.WebKitMutationObserver,ea="undefined"==typeof self&&"undefined"!=typeof a&&"[object process]"==={}.toString.call(a),fa="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ga=new Array(1e3);Z=ea?k():da?m():fa?n():void 0===ba?q():o();var ha=r,ia=s,ja=Math.random().toString(36).substring(16),ka=void 0,la=1,ma=2,na=new H,oa=new H,pa=0,qa=N,ra=O,sa=P,ta=S;S.all=qa,S.race=ra,S.resolve=ia,S.reject=sa,S._setScheduler=i,S._setAsap=j,S._asap=aa,S.prototype={constructor:S,then:ha,catch:function(a){return this.then(null,a)}};var ua=T;T.prototype._enumerate=function(){for(var a=this.length,b=this._input,c=0;this._state===ka&&c<a;c++)this._eachEntry(b[c],c)},T.prototype._eachEntry=function(a,b){var c=this._instanceConstructor,d=c.resolve;if(d===ia){var e=w(a);if(e===ha&&a._state!==ka)this._settledAt(a._state,b,a._result);else if("function"!=typeof e)this._remaining--,this._result[b]=a;else if(c===ta){var f=new c(t);A(f,a,e),this._willSettleAt(f,b)}else this._willSettleAt(new c(function(b){b(a)}),b)}else this._willSettleAt(d(a),b)},T.prototype._settledAt=function(a,b,c){var d=this.promise;d._state===ka&&(this._remaining--,a===ma?E(d,c):this._result[b]=c),0===this._remaining&&D(d,this._result)},T.prototype._willSettleAt=function(a,b){var c=this;F(a,void 0,function(a){c._settledAt(la,b,a)},function(a){c._settledAt(ma,b,a)})};var va=V,wa={Promise:ta,polyfill:va};c(6).amd?(d=function(){return wa}.call(b,c,b,f),!(void 0!==d&&(f.exports=d))):"undefined"!=typeof f&&f.exports?f.exports=wa:"undefined"!=typeof this&&(this.ES6Promise=wa),va()}).call(this)}).call(b,c(3),function(){return this}(),c(4)(a))},function(a,b){function c(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function e(a){if(k===setTimeout)return setTimeout(a,0);if((k===c||!k)&&setTimeout)return k=setTimeout,setTimeout(a,0);try{return k(a,0)}catch(b){try{return k.call(null,a,0)}catch(b){return k.call(this,a,0)}}}function f(a){if(l===clearTimeout)return clearTimeout(a);if((l===d||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(a);try{return l(a)}catch(b){try{return l.call(null,a)}catch(b){return l.call(this,a)}}}function g(){p&&n&&(p=!1,n.length?o=n.concat(o):q=-1,o.length&&h())}function h(){if(!p){var a=e(g);p=!0;for(var b=o.length;b;){for(n=o,o=[];++q<b;)n&&n[q].run();q=-1,b=o.length}n=null,p=!1,f(a)}}function i(a,b){this.fun=a,this.array=b}function j(){}var k,l,m=a.exports={};!function(){try{k="function"==typeof setTimeout?setTimeout:c}catch(a){k=c}try{l="function"==typeof clearTimeout?clearTimeout:d}catch(a){l=d}}();var n,o=[],p=!1,q=-1;m.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];o.push(new i(a,b)),1!==o.length||p||e(h)},i.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=j,m.addListener=j,m.once=j,m.off=j,m.removeListener=j,m.removeAllListeners=j,m.emit=j,m.binding=function(a){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(a){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},function(a,b){a.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children=[],a.webpackPolyfill=1),a}},function(a,b){},function(a,b){a.exports=function(){throw new Error("define cannot be used indirect")}},function(a,b,c){function d(){var a=[];window!==window.parent&&a.push(window.parent);var b=document.getElementsByTagName("iframe");if(b.length){var c=!0,d=!1,e=void 0;try{for(var f,g=b[Symbol.iterator]();!(c=(f=g.next()).done);c=!0){var h=f.value;a.push(h.contentWindow)}}catch(a){d=!0,e=a}finally{try{!c&&g.return&&g.return()}finally{if(d)throw e}}}return a}function e(a){if(a.data.protocol===m)switch(a.data.type){case"rpc:request":f(a);break;case"rpc:response":g(a)}}function f(a){var b=a.data,c={source:a.source,method:b.method,args:b.args};p.push(c),k[b.method].apply(null,b.args).then(function(d){i(a.source,b.id,!0),p=p.filter(function(a){return a!==c})}).catch(function(d){i(a.source,b.id,!1),p=p.filter(function(a){return a!==c})})}function g(a){var b=a.data;b.success?o[b.id].resolve():o[b.id].reject()}function h(a,b,c){var d=new l(function(a,b){o.push({resolve:a,reject:b}),window.setTimeout(b,n)}),e=o.length-1,f={protocol:m,type:"rpc:request",id:e,method:b,args:c};try{a.postMessage(f,a.location.origin)}catch(a){o[e].reject("UNABLE_TO_POSTMESSAGE")}return d}function i(a,b,c){var d={protocol:m,type:"rpc:response",id:b,success:c};a.postMessage(d,a.location.origin)}function j(a,b){return new l(function(c,e){var f=0,g=d().filter(function(c){var d=!0,e=!1,f=void 0;try{for(var g,h=p[Symbol.iterator]();!(d=(g=h.next()).done);d=!0){var i=g.value;if(i.source===c&&i.method===a&&i.args.length===b.length){for(var j=!1,k=0;k<b.length;k++)p.args[k]===b[k]&&(j=!0);if(j)return!1}}}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return!0});g.length||e(),g.forEach(function(d){h(d,a,b).then(function(a){c()}).catch(function(){f+=1,(f=g.length)&&e()})})})}var k=c(1),l=c(2).Promise,m="crossframe-pendo",n=5e3,o=[],p=[];window.addEventListener("message",e),a.exports={tryAdjacentFrames:j}}])});
//# sourceMappingURL=crossframe-pendo.map